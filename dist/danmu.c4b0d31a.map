{"version":3,"sources":["src\\danmu.js","index.js"],"names":["Danmu","canvas","video","options","store","isPause","time","currentTime","fontSize","defaults","opacity","speed","range","color","data","params","key","context","getContext","width","clientWidth","height","clientHeight","Barrage","document","getElementById","value"],"mappings":"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","file":"danmu.c4b0d31a.map","sourcesContent":["class Danmu {\r\n  constructor(canvas, video, options) {\r\n    this.canvas = canvas\r\n    this.video = video\r\n    this.options = options\r\n    this.store = {}\r\n    this.isPause = true\r\n    this.time = video.currentTime\r\n    this.fontSize = 28\r\n\r\n    let defaults = {\r\n      opacity: 100,\r\n      fontSize: 24,\r\n      speed: 2,\r\n      range: [0, 1],\r\n      color: '#fff',\r\n      data: []\r\n    }\r\n\r\n    let params = {}\r\n\r\n    for (let key in defaults) {\r\n      if (options[key]) {\r\n        params[key] = options[key]\r\n      } else {\r\n        params[key] = defaults[key]\r\n      }\r\n\r\n      this[key] = params[key]\r\n    }\r\n\r\n    this.context = canvas.getContext('2d')\r\n    canvas.width = this.canvas.clientWidth\r\n    canvas.height = this.canvas.clientHeight\r\n\r\n    new Barrage(this)\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default Danmu\r\n","import Danmu from './src/danmu'\r\n\r\nconst canvas = document.getElementById('canvas')\r\nconst video = document.getElementById('video')\r\n\r\nconst data = [\r\n  {\r\n    value: 'speed设为0为非滚动',\r\n    time: 1, // 单位秒\r\n    speed: 0\r\n  },\r\n  {\r\n    value: 'time控制弹幕时间，单位秒',\r\n    color: 'blue',\r\n    time: 2\r\n  },\r\n  {\r\n    value: '视频共21秒',\r\n    time: 3.2\r\n  },\r\n  {\r\n    value: '视频背景为白色',\r\n    time: 4.5\r\n  },\r\n  {\r\n    value: '视频为录制',\r\n    time: 5.0\r\n  },\r\n  {\r\n    value: '视频内容简单',\r\n    time: 6.3\r\n  },\r\n  {\r\n    value: '是为了让视频尺寸不至于过大',\r\n    time: 7.8\r\n  },\r\n  {\r\n    value: '省流量',\r\n    time: 8.5\r\n  },\r\n  {\r\n    value: '支持弹幕暂停（视频暂停）',\r\n    time: 9\r\n  },\r\n  {\r\n    value: 'add()方法新增弹幕',\r\n    time: 11\r\n  },\r\n  {\r\n    value: 'reset()方法重置弹幕',\r\n    time: 11\r\n  },\r\n  {\r\n    value: '颜色，字号，透明度可全局设置',\r\n    time: 13\r\n  },\r\n  {\r\n    value: '具体交互细节可参考页面源代码',\r\n    time: 14\r\n  },\r\n  {\r\n    value: '内容不错哦！',\r\n    time: 18,\r\n    color: 'yellow'\r\n  }\r\n]\r\n\r\nnew Danmu(canvas, video, {\r\n  data\r\n})\r\n"]}